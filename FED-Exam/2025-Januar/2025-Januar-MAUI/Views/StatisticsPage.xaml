<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:JanuarMAUI.ViewModels"
             x:Class="JanuarMAUI.Views.StatisticsPage"
             x:DataType="viewmodels:StatisticsViewModel"
             Title="{Binding Title}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header -->
        <Frame Grid.Row="0" 
               BackgroundColor="Black" 
               CornerRadius="0"
               Padding="20"
               Margin="0">
            <StackLayout Orientation="Horizontal" Spacing="10">
                <Label Text="ðŸ“Š" FontSize="28" VerticalOptions="Center" />
                <Label Text="{Binding Title}" 
                       FontSize="24" 
                       FontAttributes="Bold" 
                       TextColor="White"
                       VerticalOptions="Center" />
            </StackLayout>
        </Frame>

        <!-- Content -->
        <ScrollView Grid.Row="1" Padding="20">
            <StackLayout Spacing="20">
                
                <!-- Overall Stats -->
                <Frame BackgroundColor="{AppThemeBinding Light=White, Dark=#2B2B2B}"
                       BorderColor="{AppThemeBinding Light=#E0E0E0, Dark=#404040}"
                       CornerRadius="15"
                       Padding="20">
                    <StackLayout Spacing="15">
                        <Label Text="Samlet oversigt" 
                               FontSize="18" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}" />
                        
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            
                            <StackLayout Grid.Column="0">
                                <Label Text="Aktive vaner" 
                                       FontSize="12" 
                                       TextColor="{AppThemeBinding Light=#888888, Dark=#AAAAAA}" />
                                <Label Text="{Binding TotalHabits}" 
                                       FontSize="24" 
                                       FontAttributes="Bold"
                                       TextColor="Black" />
                            </StackLayout>
                            
                            <StackLayout Grid.Column="1">
                                <Label Text="UdfÃ¸rt i dag" 
                                       FontSize="12" 
                                       TextColor="{AppThemeBinding Light=#888888, Dark=#AAAAAA}" />
                                <Label Text="{Binding CompletedToday}" 
                                       FontSize="24" 
                                       FontAttributes="Bold"
                                       TextColor="#28A745" />
                            </StackLayout>
                        </Grid>
                    </StackLayout>
                </Frame>

                <!-- Weekly Progress -->
                <Frame BackgroundColor="{AppThemeBinding Light=White, Dark=#2B2B2B}"
                       BorderColor="{AppThemeBinding Light=#E0E0E0, Dark=#404040}"
                       CornerRadius="15"
                       Padding="20">
                    <StackLayout Spacing="15">
                        <Label Text="Ugentlig progress" 
                               FontSize="18" 
                               FontAttributes="Bold"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}" />
                        
                        <Label Text="ðŸ“… Denne uge" 
                               FontSize="14" 
                               TextColor="{AppThemeBinding Light=#666666, Dark=#CCCCCC}" />
                        
                        <ProgressBar Progress="{Binding WeeklyProgress}" 
                                     ProgressColor="#28A745"
                                     BackgroundColor="{AppThemeBinding Light=#E0E0E0, Dark=#404040}" />
                        
                        <Label Text="{Binding WeeklyProgressText}" 
                               FontSize="14" 
                               HorizontalOptions="Center"
                               TextColor="{AppThemeBinding Light=#666666, Dark=#CCCCCC}" />
                    </StackLayout>
                </Frame>

                <!-- Coming Soon -->
                <Frame BackgroundColor="{AppThemeBinding Light=White, Dark=#2B2B2B}"
                       BorderColor="{AppThemeBinding Light=#E0E0E0, Dark=#404040}"
                       CornerRadius="15"
                       Padding="40">
                    <StackLayout Spacing="10" HorizontalOptions="Center">
                        <Label Text="ðŸš€" 
                               FontSize="48" 
                               HorizontalOptions="Center" />
                        <Label Text="Mere statistik kommer snart!" 
                               FontSize="16" 
                               FontAttributes="Bold"
                               HorizontalOptions="Center"
                               TextColor="{AppThemeBinding Light=#333333, Dark=#FFFFFF}" />
                        <Label Text="Vi arbejder pÃ¥ detaljerede grafer og trends" 
                               FontSize="14" 
                               HorizontalOptions="Center"
                               HorizontalTextAlignment="Center"
                               TextColor="{AppThemeBinding Light=#666666, Dark=#CCCCCC}" />
                    </StackLayout>
                </Frame>

            </StackLayout>
        </ScrollView>

        <!-- Loading Indicator -->
        <ActivityIndicator Grid.Row="1" 
                           IsVisible="{Binding IsBusy}" 
                           IsRunning="{Binding IsBusy}"
                           Color="Black"
                           VerticalOptions="Center"
                           HorizontalOptions="Center" />

    </Grid>

</ContentPage> 